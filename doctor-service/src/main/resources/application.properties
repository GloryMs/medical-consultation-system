spring.application.name=doctor-service

server.port=8083

spring.datasource.url= jdbc:postgresql://172.16.1.122:5432/medical_doctor_db
spring.datasource.username=user1
spring.datasource.password=user1
spring.jpa.database=POSTGRESQL
spring.jpa.show-sql=false
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect


eureka.client.service-url.defaultZone= http://172.16.1.122:8761/eureka/
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true

# Kafka Configuration (Both Producer and Consumer)
spring.kafka.bootstrap-servers=172.16.1.122:9092

# Producer Configuration
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
spring.kafka.producer.acks=all
spring.kafka.producer.retries=3

# Consumer Configuration
spring.kafka.consumer.group-id=doctor-group
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer
spring.kafka.consumer.properties.spring.json.trusted.packages=*
spring.kafka.consumer.enable-auto-commit=true


doctor.workload.auto-disable-threshold=95.0
doctor.workload.auto-recalculation-enabled=true
doctor.workload.auto-recalculation-interval-minutes=30
doctor.workload.buffer-minutes=15
doctor.workload.emergency-mode-auto-disable=false
doctor.workload.emergency-mode-max-hours=12
doctor.workload.max-active-cases=10
doctor.workload.max-daily-appointments=8
doctor.workload.max-search-days-for-slot=30
doctor.workload.workload-based-assignment=true
doctor.workload.workload-stale-hours=2

spring.task.scheduling.pool.size=5
spring.task.scheduling.thread-name-prefix=workload-scheduler-

# ========== PDF STORAGE CONFIGURATION ==========
# Base path for PDF storage (relative or absolute)
app.pdf.storage.base-path=./pdf-reports
# Temporary directory for PDF generation
app.pdf.storage.temp-dir=./pdf-reports/temp

# Base URL for accessing PDF files
app.pdf.base-url=http://172.16.1.122:8083/api/files/reports

# Maximum PDF file size in MB
app.pdf.max-size-mb=10

# PDF Generation Settings
app.pdf.page-size=A4
app.pdf.compress=true
app.pdf.font-size=12
app.pdf.header-font-size=14
app.pdf.title-font-size=18

# File naming pattern
app.pdf.filename-pattern=medical_report_{caseId}_{reportId}_{timestamp}.pdf

# ========== FILE ENCRYPTION CONFIGURATION ==========
# AES encryption key (must be exactly 32 characters for AES-256)
# IMPORTANT: Change this key in production!
app.file.encryption.key=3F4A7B2C8E6D9F1A5B8C2E7F9D4A6B3C

# Enable/disable encryption (for testing purposes)
app.file.encryption.enabled=true

# Enable/disable compression
app.file.compression.enabled=true


# ====== APPOINTMENT REMINDER CONFIGURATION ======
# Enable/disable reminder system
appointment.reminders.enabled=true
# Check for pending reminders every 5 minutes (300 seconds)
appointment.reminders.check-interval-seconds=300
# Default reminder times in minutes before appointment
# 1440 = 24 hours, 60 = 1 hour, 15 = 15 minutes
appointment.reminders.default-reminder-minutes=1440,60,15
# Doctor-specific reminder times (in minutes)
appointment.reminders.doctor-reminder-minutes=1440,120,30
# Patient-specific reminder times (in minutes)
appointment.reminders.patient-reminder-minutes=1440,60,15
# Send reminders only for these statuses (comma-separated)
appointment.reminders.eligible-statuses=CONFIRMED
# Time window in minutes to send reminder before exact scheduled time
# This prevents sending too early if scheduler runs ahead
appointment.reminders.send-window-minutes=10
# Maximum retry attempts for failed reminders
appointment.reminders.max-retry-attempts=3
# Include meeting link in reminder
appointment.reminders.include-meeting-link=true

