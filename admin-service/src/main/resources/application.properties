spring.application.name=admin-service

server.port=8084

spring.datasource.url= jdbc:postgresql://172.16.1.122:5432/medical_admin_db
spring.datasource.username=user1
spring.datasource.password=user1
spring.jpa.database=POSTGRESQL
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

eureka.client.service-url.defaultZone= http://172.16.1.122:8761/eureka/
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
#eureka.instance.prefer-ip-address=true
#eureka.instance.ip-address=172.16.1.122
#172.16.3.12

# Kafka Configuration (Both Producer and Consumer)
spring.kafka.bootstrap-servers=172.16.1.122:9092

# Producer Configuration
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
spring.kafka.producer.acks=all
spring.kafka.producer.retries=3
spring.kafka.producer.batch-size=16384
spring.kafka.producer.buffer-memory=33554432

# Consumer Configuration
#spring.kafka.consumer.group-id=admin-group
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer
spring.kafka.consumer.properties.spring.json.trusted.packages=*
spring.kafka.consumer.enable-auto-commit=true
spring.kafka.consumer.auto-commit-interval=1000

# =====================================================
# Admin-Service Coupon Configuration
# =====================================================

# Coupon Defaults
coupon.default-expiration-months=6
coupon.expiry-warning-days=30
coupon.max-batch-size=100
coupon.min-code-length=8
coupon.max-code-length=20
coupon.code-prefix=MED
coupon.allow-transfers=false
coupon.max-discount-percentage=100
coupon.default-currency=USD
coupon.notifications-enabled=true

# Scheduled Tasks
coupon.expiration-job-hour=1
coupon.expiry-warning-job-hour=9

# Supervisor Settings
coupon.supervisor-max-patients-default=3
coupon.supervisor-max-active-cases-per-patient=2
coupon.default-consultation-fee=200.00

# =====================================================
# Kafka Topics Configuration
# =====================================================

# Admin Coupon Topics
kafka.topics.coupon-created=admin.coupon.created
kafka.topics.coupon-distributed=admin.coupon.distributed
kafka.topics.coupon-used=admin.coupon.used
kafka.topics.coupon-cancelled=admin.coupon.cancelled
kafka.topics.coupon-expired=admin.coupon.expired
kafka.topics.coupon-batch-created=admin.coupon.batch.created
kafka.topics.coupon-batch-distributed=admin.coupon.batch.distributed

# Notification Topics
kafka.topics.coupon-notification=coupon.notification
kafka.topics.coupon-expiring-soon=coupon.expiring.soon
